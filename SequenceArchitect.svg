<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="532px" preserveAspectRatio="none" style="width:745px;height:532px;" version="1.1" viewBox="0 0 745 532" width="745px" zoomAndPan="magnify"><defs><filter height="300%" id="fsgban2cizm1x" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fsgban2cizm1x)" height="375.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="31.5" y="69.4297"/><rect fill="#FFFFFF" filter="url(#fsgban2cizm1x)" height="434.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="219.5" y="48.2969"/><rect fill="#FFFFFF" filter="url(#fsgban2cizm1x)" height="413.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="407.5" y="69.4297"/><rect fill="#FFFFFF" filter="url(#fsgban2cizm1x)" height="275.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="633.5" y="198.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="36" x2="36" y1="38.2969" y2="492.1563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="224" x2="224" y1="38.2969" y2="492.1563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="412.5" x2="412.5" y1="38.2969" y2="492.1563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="638" x2="638" y1="38.2969" y2="492.1563"/><rect fill="#FEFECE" filter="url(#fsgban2cizm1x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="15" y="22.9951">Client</text><rect fill="#FEFECE" filter="url(#fsgban2cizm1x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="8" y="491.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="15" y="511.1514">Client</text><rect fill="#FEFECE" filter="url(#fsgban2cizm1x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="171" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="178" y="22.9951">MQTT Server</text><rect fill="#FEFECE" filter="url(#fsgban2cizm1x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="171" y="491.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="178" y="511.1514">MQTT Server</text><rect fill="#FEFECE" filter="url(#fsgban2cizm1x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="381.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="388.5" y="22.9951">Server</text><rect fill="#FEFECE" filter="url(#fsgban2cizm1x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="381.5" y="491.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="388.5" y="511.1514">Server</text><rect fill="#FEFECE" filter="url(#fsgban2cizm1x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="588" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="595" y="22.9951">Thread Pool</text><rect fill="#FEFECE" filter="url(#fsgban2cizm1x)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="588" y="491.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="595" y="511.1514">Thread Pool</text><rect fill="#FFFFFF" filter="url(#fsgban2cizm1x)" height="375.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="31.5" y="69.4297"/><rect fill="#FFFFFF" filter="url(#fsgban2cizm1x)" height="434.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="219.5" y="48.2969"/><rect fill="#FFFFFF" filter="url(#fsgban2cizm1x)" height="413.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="407.5" y="69.4297"/><rect fill="#FFFFFF" filter="url(#fsgban2cizm1x)" height="275.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="633.5" y="198.9609"/><polygon fill="#008000" points="240.5,65.4297,230.5,69.4297,240.5,73.4297,236.5,69.4297" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="234.5" x2="406.5" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="246.5" y="64.3638">Listen</text><polygon fill="#A80036" points="207.5,94.5625,217.5,98.5625,207.5,102.5625,211.5,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="213.5" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="48.5" y="93.4966">Client Connect</text><polygon fill="#A80036" points="395.5,123.6953,405.5,127.6953,395.5,131.6953,399.5,127.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229.5" x2="401.5" y1="127.6953" y2="127.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="236.5" y="122.6294">(forward) Client Connect</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="417.5" x2="459.5" y1="156.8281" y2="156.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="459.5" x2="459.5" y1="156.8281" y2="169.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="418.5" x2="459.5" y1="169.8281" y2="169.8281"/><polygon fill="#A80036" points="428.5,165.8281,418.5,169.8281,428.5,173.8281,424.5,169.8281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="424.5" y="151.7622">Check availability</text><polygon fill="#A80036" points="621.5,194.9609,631.5,198.9609,621.5,202.9609,625.5,198.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="417.5" x2="627.5" y1="198.9609" y2="198.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="424.5" y="193.895">Acquire/Create Thread for Task</text><polygon fill="#A80036" points="240.5,224.0938,230.5,228.0938,240.5,232.0938,236.5,228.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="234.5" x2="632.5" y1="228.0938" y2="228.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="246.5" y="223.0278">ACK</text><polygon fill="#A80036" points="52.5,253.2266,42.5,257.2266,52.5,261.2266,48.5,257.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="46.5" x2="218.5" y1="257.2266" y2="257.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="58.5" y="252.1606">(forward) ACK</text><polygon fill="#A80036" points="207.5,282.3594,217.5,286.3594,207.5,290.3594,211.5,286.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="213.5" y1="286.3594" y2="286.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="48.5" y="281.2935">Request Service</text><polygon fill="#A80036" points="621.5,311.4922,631.5,315.4922,621.5,319.4922,625.5,315.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229.5" x2="627.5" y1="315.4922" y2="315.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="236.5" y="310.4263">(forward) Request Service</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="643.5" x2="685.5" y1="344.625" y2="344.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="685.5" x2="685.5" y1="344.625" y2="357.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="644.5" x2="685.5" y1="357.625" y2="357.625"/><polygon fill="#A80036" points="654.5,353.625,644.5,357.625,654.5,361.625,650.5,357.625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="650.5" y="339.5591">Process Task</text><polygon fill="#A80036" points="240.5,382.7578,230.5,386.7578,240.5,390.7578,236.5,386.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="234.5" x2="632.5" y1="386.7578" y2="386.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="246.5" y="381.6919">Return Service</text><polygon fill="#A80036" points="52.5,411.8906,42.5,415.8906,52.5,419.8906,48.5,415.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="46.5" x2="218.5" y1="415.8906" y2="415.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="58.5" y="410.8247">(forward) Return Service</text><polygon fill="#A80036" points="207.5,441.0234,217.5,445.0234,207.5,449.0234,211.5,445.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="36.5" x2="213.5" y1="445.0234" y2="445.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="43.5" y="439.9575">Client Close</text><polygon fill="#A80036" points="626.5,470.1563,636.5,474.1563,626.5,478.1563,630.5,474.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229.5" x2="632.5" y1="474.1563" y2="474.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="236.5" y="469.0903">(forward) Client Close</text><!--MD5=[9d1962727dfda5699da1a046770a71bb]
@startuml SequenceArchitect
participant Client
participant "MQTT Server" as MqttServer
participant Server
participant "Thread Pool" as ThreadPool

activate MqttServer

Server - -[#green]- -> MqttServer : Listen
activate Server

activate Client
Client -> MqttServer : Client Connect
MqttServer -> Server : (forward) Client Connect
Server -> Server : Check availability

Server -> ThreadPool : Acquire/Create Thread for Task
activate ThreadPool
ThreadPool -> MqttServer : ACK
MqttServer -> Client : (forward) ACK

Client -> MqttServer : Request Service
MqttServer -> ThreadPool : (forward) Request Service

ThreadPool -> ThreadPool : Process Task
ThreadPool -> MqttServer : Return Service
MqttServer -> Client : (forward) Return Service

Client -> MqttServer : Client Close
deactivate Client
MqttServer -> ThreadPool : (forward) Client Close
deactivate ThreadPool

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.6+7-Ubuntu-124.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>